# 📘 UI_FLOW.md — テニス予約管理アプリ UIフロー図（v1.3）

---

---

## 1. 画面一覧

| 画面名       | ファイル内名称              | 主な機能                                   |
| ------------ | --------------------------- | ------------------------------------------ |
| トップ画面   | `TopView`                 | カレンダー表示、予約一覧、抽選リマインダー |
| 予約登録画面 | `RegisterReservationView` | 日付・時間・施設・ステータスの登録         |
| 参加表明画面 | `EntryView`               | 参加/不参加登録、コメント入力、履歴表示    |
| 履歴画面     | `HistoryView`             | 参加・不参加の履歴一覧                     |
| 施設登録画面 | `FacilityView`            | 登録済み施設の追加・編集                   |

---

## 2. 画面遷移図（★更新）

```text
┌─────────────────────────────────┐
│      Main Screen (Header)       │
│  [リマインダー通知エリア]       │
├─────────────────────────────────┤
│ Tab 1: [📅 カレンダー]          │
│ Tab 2: [📋 予約リスト]          │
└───────┬─────────────────┬───────┘
        │                 │
        │ (クリック)      │ (クリック)
        ▼                 ▼
┌─────────────────────────────────┐
│  【ポップアップダイアログ】     │
│                                 │
│  [ 新規登録 / 編集フォーム ]    │
│  ・日付/時間/施設/ステータス    │
│  ・参加者/保留/メモ             │
│                                 │
│  [ 登録 / 反映 ] [ 削除 ]       │
└─────────────────────────────────┘
        │
        │ (保存して閉じる)
        ▼
   ○ Main Screen に戻る（データ更新）
```

---

## 3. TopView（トップ画面）

---

### ● タブ構成

* **カレンダータブ**

  * **月表示カレンダー**
  * **同月内の日付移動では再描画を行わない（スムーズな挙動）**
* **予約リストタブ**

  * **全予約のリスト表示**
  * **「過去の予約を表示する」フィルタ（トグルスイッチ）**
  * **項目：日時(曜日付)、施設、状態、参加者、保留、メモ**

### ● ダイアログ（Modal）

* **以下の操作を行うと、背景が暗くなり入力画面がポップアップする。**
  * **カレンダーの日付セルをクリック（新規登録）**
  * **カレンダーのイベントをクリック（編集）**
  * **リストの行をクリック（編集）**


## 4. RegisterReservationView（予約登録画面）

### ● 入力項目

* 日付（タップ元より自動入力）
* 開始時刻
* 終了時刻
* 施設名（プルダウン）
* ステータス（抽選中／確保／中止）

### ● 操作

* 登録ボタン → 登録後 TopView へ戻る。

---

## 5. EntryView（参加表明画面）

### ● 表示項目

* 開催日
* 施設名
* 参加区分（参加 / 不参加 / 検討中）
* ニックネーム（プルダウン）
* コメント欄（1つ、改行OK）

### ● 表示機能（新仕様反映済）

* 参加済み一覧（ **削除不可・最新順** ）

### ● 操作

* 登録ボタン → 追加 → 画面更新

---

## 6. HistoryView（履歴画面）

### ● 内容

* 過去の参加表明履歴（最新順）
* フィルタ（参加／不参加／検討中）

---

## 7. FacilityView（施設登録画面）

### ● 内容

* 登録済み施設一覧
* 新規追加
* 編集

---

## 8. 備考（スマホ UI 仕様）

| 項目           | 内容                             |
| -------------- | -------------------------------- |
| 月移動         | **左右スワイプ対応（新）** |
| 日付タップ     | 自動で予約登録画面へ             |
| イベントタップ | 自動で参加表明画面へ             |
